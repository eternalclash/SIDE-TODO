{"ast":null,"code":"import axios from \"axios\";\nimport { produce } from \"immer\";\nimport { createAction, handleActions } from \"redux-actions\";\nconst GET_MONDAY = \"GET_MONDAY\";\nconst EDIT_MONDAYCHECK = \"EDIT_MONDAYCHECK\";\nconst POST_MONDAY = \"POST_MONDAY\";\nconst getMonday = createAction(GET_MONDAY, monday => ({\n  monday\n}));\nconst editMondayCheck = createAction(EDIT_MONDAYCHECK, (monday, postId) => ({\n  monday,\n  postId\n}));\nconst postMonday = createAction(POST_MONDAY, monday => ({\n  monday\n}));\nconst initialState = {\n  monday: [],\n  day: []\n};\n\nconst postDayMD = (day, title) => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    axios({\n      method: 'POST',\n      url: 'http://localhost:4000/${day}',\n      data: {\n        title,\n        check: 0\n      }\n    }).then(res => {\n      if (day == \"Monday\") {\n        dispatch(getMondayMD);\n      }\n    }).catch(err => {});\n  };\n};\n\nconst getMondayMD = day => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    console.log(day);\n    axios({\n      method: 'GET',\n      url: `http://localhost:4000/${day}`,\n      data: {}\n    }).then(res => {\n      const dateList = res.data;\n      console.log(dateList);\n      dispatch(getMonday(dateList));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\n\nconst editMondayCheckMD = (postId, check) => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    axios({\n      method: 'PATCH',\n      url: `http://localhost:4000/Monday/${postId}`,\n      data: {\n        check: check\n      }\n    }).then(res => {\n      dispatch(editMondayCheck(check, postId));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\n\nexport default handleActions({\n  [GET_MONDAY]: (state, action) => produce(state, draft => {\n    draft.monday = action.payload.monday;\n  }),\n  [EDIT_MONDAYCHECK]: (state, action) => produce(state, draft => {\n    let postIdx = draft.monday.findIndex(list => list.id == action.payload.postId); // console.log(commentIdx)\n\n    draft.monday[postIdx].check = action.payload.monday;\n  }),\n  [POST_MONDAY]: (state, action) => produce(state, draft => {\n    draft.monday.push(action.payload.monday);\n  })\n}, initialState);\nexport const actionCreators = {\n  getMondayMD,\n  editMondayCheckMD,\n  post\n};","map":{"version":3,"sources":["/Users/eternalclash/Desktop/무제 폴더/todo/src/redux/module/date.js"],"names":["axios","produce","createAction","handleActions","GET_MONDAY","EDIT_MONDAYCHECK","POST_MONDAY","getMonday","monday","editMondayCheck","postId","postMonday","initialState","day","postDayMD","title","dispatch","getState","history","method","url","data","check","then","res","getMondayMD","catch","err","console","log","dateList","editMondayCheckMD","state","action","draft","payload","postIdx","findIndex","list","id","push","actionCreators","post"],"mappings":"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","sourcesContent":["\nimport axios from \"axios\";\nimport { produce } from \"immer\";\nimport { createAction, handleActions } from \"redux-actions\";\nconst GET_MONDAY = \"GET_MONDAY\";\nconst EDIT_MONDAYCHECK=\"EDIT_MONDAYCHECK\"\nconst POST_MONDAY = \"POST_MONDAY\"\nconst getMonday = createAction(GET_MONDAY, (monday)=>({monday}))\nconst editMondayCheck = createAction(EDIT_MONDAYCHECK,(monday,postId)=>({monday,postId}))\nconst postMonday = createAction(POST_MONDAY, (monday)=>({monday}))\nconst initialState = {\n    monday: [],\n     day: [],\n}\n\n\nconst postDayMD = (day,title) =>{\n    return (function (dispatch,getState, {history})\n    {\n        axios({\n            method:'POST',\n            url:'http://localhost:4000/${day}',\n            data:{\n                title,\n                check:0,\n            }\n        })\n        .then((res)=>{\n          if(day==\"Monday\")\n          {\n              dispatch(getMondayMD)\n          }\n        })\n        .catch((err)=>{\n\n        })\n    }\n    )\n}\n\nconst getMondayMD = (day) => {\n    return (function (dispatch, getState, {history})\n    { console.log(day)\n        axios({\n            method:'GET',\n            url: `http://localhost:4000/${day}`,\n            data: {},\n           \n        })\n        .then((res)=>{\n            const dateList = res.data\n            console.log(dateList)\n            dispatch(getMonday(dateList))\n           \n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    }\n    )\n}\nconst editMondayCheckMD = (postId,check) => {\n    return (function (dispatch, getState, {history})\n    {\n        axios({\n            method:'PATCH',\n            url: `http://localhost:4000/Monday/${postId}`,\n            data: {\n                check:check,\n            },\n           \n        })\n        .then((res)=>{\n        dispatch(editMondayCheck(check,postId))\n           \n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    }\n    )\n}\n\nexport default handleActions (\n    {\n        [GET_MONDAY] : (state,action) => \n            produce(state,(draft)=> {\n                draft.monday =action.payload.monday;\n            }),\n        [EDIT_MONDAYCHECK] : (state,action) => \n            produce(state,(draft)=> {\n                let postIdx = draft.monday.findIndex(\n                    (list) => list.id == action.payload.postId\n                  );\n                  // console.log(commentIdx)\n                  draft.monday[postIdx].check=action.payload.monday\n         }),\n         [POST_MONDAY] : (state,action) =>\n         produce(state,(draft)=> {\n             draft.monday.push(action.payload.monday)\n         })\n        \n        }, initialState);\n\nexport const actionCreators = {\n    getMondayMD,\n    editMondayCheckMD,\n    post\n}"]},"metadata":{},"sourceType":"module"}